window.gLocalAssetContainer["node_modules/cowlick-engine/lib/Engine.js"] = function(g) { !function(e,r,t,n,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=r("cowlick-core"),a=r("cowlick-config"),c=r("./components/SceneController"),s=r("./scripts/ScriptManager"),p=r("./scripts/defaultScripts"),u=r("./components/GameStateHelper"),f=function(){function e(r,t){this.game=r,this.player=t;var n="cowlickConfig";void 0!==r.assets[n]&&(e._config=g._require(r,n))}return Object.defineProperty(e.prototype,"config",{set:function(r){e._config=r},enumerable:!0,configurable:!0}),Object.defineProperty(e,"scriptManager",{get:function(){return e._scriptManager},enumerable:!0,configurable:!0}),Object.defineProperty(e,"config",{get:function(){return e._config},enumerable:!0,configurable:!0}),e.prototype.start=function(r){var t=u.createStorageKeys(this.player,e._config.system.maxSaveCount),n=new c.SceneController({game:this.game,scenario:r,scriptManager:e.scriptManager,config:e.config,player:this.player,storageKeys:t});return n.start(),n},e.prototype.load=function(e){return this.start(new o.Scenario([g._require(this.game,e)]))},e.prototype.restore=function(r){return c.SceneController.restore({game:this.game,scriptManager:e.scriptManager,config:e.config,player:this.player,snapshot:r})},e.prototype.script=function(r,t){e.scriptManager.register(r,t)},e._scriptManager=new s.ScriptManager(p.defaultScripts),e._config=a.defaultConfig,e}();e.Engine=f,e.engine=new f(g.game,{id:"0"}),e.initialize=function(e,r){return new f(r?r:g.game,e)}}(g.module.exports,g.module.require,g.module,g.filename,g.dirname);}