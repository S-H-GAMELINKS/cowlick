window.gLocalAssetContainer["node_modules/cowlick-engine/lib/models/Storage.js"] = function(g) { !function(e,t,i,s,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=t("../Constant"),o=function(){function e(e){this.storage=e.storage,this.player=e.player,this.state=e.state,this.scenario=e.scenario}return e.prototype.load=function(e){return this.state.load(e)},e.prototype.save=function(e){var t=this.state.save(e),i=r.Region.saveDataPrefix+e.index+".";this.write(t.variables,i+"variables"),this.write(t.label,i+"label"),this.write(t.logs,i+"logs"),t.description&&this.write(t.description,i+"description")},e.prototype.saveBuiltinVariables=function(){this.write(this.state.variables.builtin,r.Region.builtin)},e.prototype.saveSystemVariables=function(){this.write(this.state.variables.system,r.Region.system)},e.prototype.write=function(e,t){this.storage.write({region:g.StorageRegion.Values,regionKey:t,userId:this.player.id,gameId:r.gameId},{data:JSON.stringify(e)})},e}();e.Storage=o}(g.module.exports,g.module.require,g.module,g.filename,g.dirname);}