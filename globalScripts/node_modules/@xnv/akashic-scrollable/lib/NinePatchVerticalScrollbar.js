window.gLocalAssetContainer["node_modules/@xnv/akashic-scrollable/lib/NinePatchVerticalScrollbar.js"] = function(g) { !function(t,e,i,a,h){"use strict";var n=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var a in e)e.hasOwnProperty(a)&&(t[a]=e[a]);t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)},o=function(t){function e(e){var i=t.call(this,{scene:e.scene,width:e.bgImage?e.bgImage.width:e.image.width,height:0,backgroundImage:e.bgImage,backgroundEffector:e.bgImage&&new g.NinePatchSurfaceEffector(e.scene.game,Math.floor(e.bgImage.width/2)),touchable:!0})||this;return i.onChangeBarPositionRate=new g.Trigger,i._bar=new g.Pane({scene:e.scene,parent:i,width:e.bgImage?e.bgImage.width:e.image.width,height:0,backgroundImage:e.image,backgroundEffector:new g.NinePatchSurfaceEffector(e.scene.game,Math.floor(e.image.width/2)),touchable:!0}),i._barImage=e.image,i._contentLength=0,i._deltaOrigin=0,i._delta=0,i.pointDown.add(i._handlePointDown,i),i._bar.pointDown.add(i._handleBarPointDown,i),i._bar.pointMove.add(i._handleBarPointMove,i),i}return n(e,t),e.prototype.destroy=function(){this.onChangeBarPositionRate.destroy(),this.onChangeBarPositionRate=null,this._bar=null,this._barImage=null,this._contentLength=0,t.prototype.destroy.call(this)},e.prototype.setBarProperties=function(t,e,i){null!=e&&this._contentLength!==e&&(this._contentLength=e),null!=i&&this.height!==i&&(this.height=i,this.invalidate());var a=0;this.height<this._contentLength&&(a=Math.floor(Math.max(this.height*this.height/this._contentLength,this._barImage.height)));var h=Math.floor(Math.max(t*this.height));this._bar.height!==a&&(this._bar.height=a,this._bar.invalidate()),this._bar.y!==h&&(this._bar.y=h,this._bar.modified(),this._deltaOrigin=this._bar.y,this._delta=0)},e.prototype._handlePointDown=function(t){t.point.y<this._bar.y?this._changePositionRate(this._bar.y-this._bar.height):t.point.y>this._bar.y+this._bar.height&&this._changePositionRate(this._bar.y+this._bar.height)},e.prototype._handleBarPointDown=function(t){this._deltaOrigin=this._bar.y,this._delta=0},e.prototype._handleBarPointMove=function(t){this._delta+=t.prevDelta.y,this._changePositionRate(this._deltaOrigin+this._delta)},e.prototype._changePositionRate=function(t){var e=this.height-this._bar.height,i=Math.min(Math.max(t,0),e);this._bar.y!==i&&(this._bar.y=i,this._bar.modified(),this.onChangeBarPositionRate.fire(i/this.height))},e}(g.Pane);t.NinePatchVerticalScrollbar=o}(g.module.exports,g.module.require,g.module,g.filename,g.dirname);}